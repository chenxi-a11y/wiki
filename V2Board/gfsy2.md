# 节点

本文会解答你使用V2Board配置节点中部分问题。

## V2Board支持的协议

V2Board目前支持以下协议：

- Shadowsocks
- Vmess
- Trojan

## 支持订阅的客户端

自动订阅 ☑️：客户端请求时携带的UA可以让V2board知道客户端的类型进行处理。
自动订阅 ❌：客户端请求V2Board无法识别需要携带参数指定识别码请求，如v2rayng请在订阅后加上`&flag=v2rayng`

| 客户端       | Shadowsocks | V2ray | Trojan | 自动订阅 | 识别码         |
| :----------- | :---------- | :---- | :----- | :------- | :------------- |
| Clash        | ☑️           | ☑️     | ☑️      | ☑️        | clash          |
| Shadowrocket | ☑️           | ☑️     | ☑️      | ☑️        | shadowrocket   |
| Surge        | ☑️           | ☑️     | ☑️      | ☑️        | surge          |
| QuantumultX  | ☑️           | ☑️     | ☑️      | ☑️        | quantumult%20x |
| Surfboard    | ☑️           | ☑️     | ☑️      | ☑️        | surfboard      |
| V2rayNG      | ☑️           | ☑️     | ☑️      | ❌        | v2rayng        |
| V2rayN       | ☑️           | ☑️     | ☑️      | ❌        | v2rayn         |
| Passwall     | ☑️           | ☑️     | ☑️      | ❌        | passwall       |
| SSRPlus      | ☑️           | ☑️     | ☑️      | ❌        | ssrplus        |
| Shadowsocks  | ☑️           | ❌     | ❌      | ☑️        | shadowsocks    |
| AnXray       | ☑️           | ☑️     | ☑️      | ☑️        | aaxray         |
| Stash        | ☑️           | ☑️     | ☑️      | ☑️        | stash          |

## 连接端口和服务端口有什么区别

连接端口是用户连接所使用的端口，服务端口为节点提供服务所使用的端口。假设你有一台中转服务器将A服务器1234端口数据转发到B服务器4567端口，那么用户连接A服务器，而服务部署于B服务器。

## 父节点与子节点关系

一般只有多入口单出口（多中转单落地）的情况下才会使用到。

**父节点**
父节点用于服务端获取节点配置及客户端连接所使用，假设使用的是官方的服务端只需要在V2Board进行节点配置无需额外在服务端进行配置，配置将会自动从V2Board获取一键部署。

**子节点**
子节点继承父节点的节点状态以便显示正确的节点状态展示给用户，参数配置只做为客户端连接使用，不会与服务端进行交互。节点倍率同步父节点。

**中转例子**
假设我给落地端配置443端口，那么我先在父节点配置好落地服务器并且保证可以连接到落地端，随后我们将中转端口10443转发至落地443端口，那么我只需要复制一个子节点把地址改成中转地址，端口改成10443让用户连接到中转即可。

## 权限组

权限组像是用户和节点的桥梁，部署服务端时，服务端将会从节点配置的权限组中拉取组中的用户。用户在订阅时也只会显示有权限的节点。

## 节点状态指示灯含义

蓝色：节点一切正常
黄色：节点可用，但节点没有人使用或有人使用但是没有数据上报到V2Board
红色：节点不可用，节点没有从V2Board获取到数据

## V2ray审计规则功能

**域名过滤器**

审计规则一行一条

- 纯字符串: 当此字符串匹配目标域名中任意部分，该规则生效。比如`"sina.com"`可以匹配`"sina.com"`、`"sina.com.cn"`和`"www.sina.com"`，但不匹配`"sina.cn"`。
- 正则表达式: 由`"regexp:"`开始，余下部分是一个正则表达式。当此正则表达式匹配目标域名时，该规则生效。例如`"regexp:\\.goo.*\\.com$"`匹配`"www.google.com"`、`"fonts.googleapis.com"`，但不匹配`"google.com"`。
- 子域名 (推荐): 由`"domain:"`开始，余下部分是一个域名。当此域名是目标域名或其子域名时，该规则生效。例如`"domain:v2ray.com"`匹配`"www.v2ray.com"`、`"v2ray.com"`，但不匹配`"xv2ray.com"`。
- 完整匹配: 由`"full:"`开始，余下部分是一个域名。当此域名完整匹配目标域名时，该规则生效。例如`"full:v2ray.com"`匹配`"v2ray.com"`但不匹配`"www.v2ray.com"`。
- 预定义域名列表：由`"geosite:"`开头，余下部分是一个名称，如geosite:google或者geosite:cn。名称及域名列表参考[预定义域名列表](https://www.v2ray.com/chapter_02/03_routing.html#dlc)。
- 从文件中加载域名: 形如`"ext:file:tag"`，必须以ext:（小写）开头，后面跟文件名和标签，文件存放在资源目录中，文件格式与geosite.dat相同，标签必须在文件中存在。

**协议过滤器**

审计规则一行一条

- http
- tls
- bittorrent